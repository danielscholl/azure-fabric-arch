
// Traefik Probe
{
  "name": "TraefikProbe",
  "properties": {
    "intervalInSeconds": 5,
    "numberOfProbes": 2,
    "port": 8080,
    "protocol": "Tcp"
  }
}


// Load Balancing Rule
{
  "name": "TraefikRule",
  "properties": {
    "backendAddressPool": {
      "id": "[concat(variables('LBId'), '/backendAddressPools/lbBackEnd')]"
    },
    "backendPort": 8080,
    "enableFloatingIP": false,
    "frontendIPConfiguration": {
      "id": "[concat(variables('LBId'), '/frontendIpConfigurations/lbFrontEnd')]"
    },
    "frontendPort": 8080,
    "idleTimeoutInMinutes": 5,
    "probe": {
      "id": "[concat(variables('LBId'), '/probes/TraefikProbe')]"
    },
    "protocol": "Tcp"
  }
}
